@page "/"
@inject NavigationManager NavigationManager

<Div class="d-flex gap-3 justify-content-xl-center justify-content-md-start align-items-center w-100 p-1 rounded-0" style="background-color:dimgray; border-top: 2mm ridge rgba(237, 169, 63, .6);">
    <img src="icon/balance2.png" style="height:1.5rem; width:auto;" class=" opacity-0" />
</Div>

<div class="container mt-5">
    <h2 class="text-center mb-4">Marco Legal</h2>
    <form>
        <div class="row">
            <div class="col-12">
                <label for="MarcoLegalText" class="form-label">Por favor, verifique el marco Legal</label>
                <textarea class="form-control" id="MarcoLegalText" v-model="form.MarcoLegalText" rows="18" readonly>
                    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce quis dolor a felis fermentum malesuada non ac est. Cras auctor tellus condimentum sagittis suscipit. Duis nibh tellus, ornare et mi et, pretium interdum lacus. Suspendisse eu est magna. Aenean nec tempus eros. Maecenas cursus enim quis nisl dignissim accumsan. Suspendisse eu imperdiet tellus. Maecenas ac dictum eros. Phasellus ut quam sed lectus ullamcorper vestibulum. Duis iaculis laoreet turpis. Vivamus at felis at magna eleifend molestie id a quam. Nullam vel urna consequat, interdum erat vel, aliquet turpis.

Sed sit amet nisi eu quam malesuada consequat. Vivamus ac dolor a ligula porttitor ultricies volutpat et quam. Curabitur id magna ex. Fusce enim dui, egestas eget porta blandit, ultricies id nibh. Sed imperdiet cursus est, eu ornare turpis congue ac. Nunc laoreet scelerisque nisi, ut varius eros suscipit sit amet. Pellentesque vitae ullamcorper arcu. Duis sollicitudin ipsum at metus ultrices, quis tristique est gravida. Nullam non consequat turpis. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia curae; In fringilla massa dolor, porttitor fringilla dui ornare quis. Maecenas et malesuada nunc. Duis luctus nulla enim, a dapibus sem rhoncus vel. Vestibulum eget venenatis odio. Nulla elementum, arcu id molestie euismod, nibh felis dignissim augue, in aliquet turpis risus porta quam.

Phasellus orci ante, porttitor et commodo et, accumsan non ligula. Ut id diam nisi. Nunc congue enim ut hendrerit scelerisque. Nam aliquam lectus eget metus ullamcorper viverra. Phasellus imperdiet, metus vitae varius feugiat, dui massa fringilla leo, ut congue massa ex congue neque. Donec quis mattis ipsum. Quisque eget nibh egestas, interdum nibh sed, porttitor enim. Curabitur scelerisque auctor massa vel aliquam. Suspendisse potenti. Duis et arcu enim. Vivamus elit mi, vulputate a est in, rutrum ultrices enim. Nam cursus diam eget congue suscipit. Proin sit amet nunc porttitor, dapibus nibh sed, elementum turpis. Nullam sit amet pulvinar nulla. Proin viverra risus risus, sit amet pharetra augue sagittis eget.

Donec accumsan tortor nec elit ornare vestibulum. Nulla sed lacus porttitor sapien molestie consectetur vitae ut dolor. In quis metus neque. Nullam feugiat tempus finibus. Mauris sed urna sollicitudin, placerat augue a, aliquam massa. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia curae; Donec dapibus interdum vulputate. In in neque erat. Aenean suscipit lacus ante, ut mattis erat ultricies ac. Morbi ultricies mauris eros, ut maximus magna vulputate nec. Vestibulum consectetur placerat metus, vel tristique diam fringilla sed. Nullam semper id mi sed scelerisque. Nam vitae lectus auctor, varius erat tempor, mollis massa. Etiam eu ipsum lorem. Phasellus eget lobortis massa.

Suspendisse potenti. Vestibulum et est nisl. Cras id enim consequat velit sagittis aliquam. Donec vel vehicula nulla. Mauris vitae ante purus. Integer vel elementum nulla. Nullam nec leo ac neque dignissim eleifend eu et eros. Integer a ligula pulvinar, placerat lorem quis, eleifend nibh. Nam cursus odio diam, ac mattis eros faucibus iaculis. Ut at nisi id enim posuere hendrerit non id nisi. Mauris id neque nec dui fringilla gravida. Aenean eget eros ultricies, placerat nibh a, ultrices libero.
                </textarea>
            </div>
        </div>
        <div class="row mt-3">
            <div class="col-12">
                <div class="form-check">
                    <input type="checkbox" class="form-check-input" id="Aceptar" :disabled="disableCheck.disabled" @bind="isChecked">
                    <label class="form-check-label" for="Aceptar">Manifiesto que he leído el Marco Legal</label>
                </div>
                <small id="msgError" class="text-danger">@msgError</small>
            </div>
        </div>
        <div class="row mt-3">
            <div class="col-12">
                <button type="button" id="submitButton" class="btn btn-primary" @onclick="handleAccept">Aceptar</button>
            </div>
        </div>
    </form>
</div>


@code {
    private string msgError = "";
    private bool isChecked = false;
    public void handleAccept()
    {
        if (checkData())
        {
            NavigationManager.NavigateTo($"Caratula");
        }
    }

    private bool checkData()
    {
        if (!isChecked)
        {
            msgError = "Por favor acepta que has leído el marco legal";
            return false;
        }
        else
        {
            msgError = "";
        }

        msgError = "";
        return true;
    }
}

